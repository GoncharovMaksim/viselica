<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"> 
    <title>Виселица!</title>
    <style>
        #gameStatus, #userInput, #submitGuess, #restartGame {
            margin-top: 10px;
        }
    </style>
</head>
<body>
<h1>Виселица!</h1>
<div id="gameStatus"></div>
<div id="userInput">
    <input type="text" id="guessInput" placeholder="Введите букву" maxlength="1">
    <button id="submitGuess" onclick="makeGuess()">Угадать</button>
</div>
<button id="restartGame" onclick="startGame()" style="display:none;">Начать заново</button>

<script>
let words = [
  "программа", "макака", "оладушек", "пельмень", "корова", "вода",
  "книга", "школа", "рюкзак", "карандаш", "солнце", "цветок",
  "пицца", "дракон", "клоун", "замок", "лес", "гора",
  "река", "море", "пират", "остров", "сокровище", "звезда",
  "планета", "ракета", "космос", "астероид", "метеорит", "галактика",
  "динозавр", "вулкан", "мамонт", "пещера", "лабиринт", "фонарик",
  "бабочка", "жук", "муравей", "паук", "черепаха", "заяц",
  "слон", "тигр", "лев", "жираф", "кенгуру", "попугай",
  "дельфин", "акула", "кит", "осьминог", "медуза", "коралл"
];
let word;
let answerArray;
let remainingLetters;
let attempts;
let guessedLetters;

function startGame() {
    word = words[Math.floor(Math.random()*words.length)];
    answerArray = Array(word.length).fill("_");
    remainingLetters = word.length;
    attempts = 10;
    guessedLetters = [];
    document.getElementById('gameStatus').textContent = `Слово: ${answerArray.join(" ")} Осталось попыток: ${attempts}`;
    document.getElementById('userInput').style.display = 'block';
    document.getElementById('restartGame').style.display = 'none';
}

function makeGuess() {
    let guess = document.getElementById('guessInput').value.toLowerCase();
    document.getElementById('guessInput').value = ''; // Очистка поля ввода
    if (guess.length !== 1) {
        alert("Пожалуйста, введите только одну букву.");
        return;
    }
    if (guessedLetters.indexOf(guess) !== -1) {
        alert("Вы уже вводили эту букву. Попробуйте другую.");
        return;
    }
    guessedLetters.push(guess);
    let correctGuess = false;
    for (let j = 0; j < word.length; j++) {
        if (word[j] === guess && answerArray[j] === "_") {
            answerArray[j] = guess;
            remainingLetters--;
            correctGuess = true;
        }
    }
    if (!correctGuess) {
        attempts--;
    }
    document.getElementById('gameStatus').textContent = `Слово: ${answerArray.join(" ")} Осталось попыток: ${attempts}`;
    if (remainingLetters === 0 || attempts === 0) {
        displayOutcome();
    }
}

function displayOutcome() {
    if (attempts > 0) {
        document.getElementById('gameStatus').textContent = `Поздравляем! Было загадано слово ${word}`;
    } else {
        document.getElementById('gameStatus').textContent = `К сожалению, попытки закончились. Было загадано слово: ${word}`;
    }
    document.getElementById('userInput').style.display = 'none';
    document.getElementById('restartGame').style.display = 'block';
}

startGame(); // Запуск игры при загрузке страницы
</script>
</body>
</html>
